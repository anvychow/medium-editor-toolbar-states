var MediumEditorToolbarStates=MediumEditor.Extension.extend({name:"toolbar_states",init:function(){this.subscribe("positionToolbar",this.handlePositionToolbar.bind(this)),this.hideClass=this.hideClass||"hide"},destroy:function(){},handlePositionToolbar:function(a,b){var c;if(this.getStateName&&"function"==typeof this.getStateName){var d=this.getStateName(b);c=this.states[d]}else this.getState&&"function"==typeof this.getState&&(c=this.getState(b));c&&this.updateToolbarState(c)},updateToolbarState:function(a){var b,c,d=this.base.getExtensionByName("toolbar"),e=this;d.forEachExtension(function(f){var g;"function"==typeof f.getButton&&(-1!=a.buttons.indexOf(f.name)?(g=f.getButton(),g.classList.remove(e.hideClass),b=b||g,c=g):(g=f.getButton(),g.classList.add(e.hideClass)),g.classList.remove(d.firstButtonClass),g.classList.remove(d.lastButtonClass))}),b&&c&&(b.classList.add(d.firstButtonClass),c.classList.add(d.lastButtonClass))}});
var MediumEditorToolbarStates=MediumEditor.Extension.extend({name:"toolbar_states",init:function(){this.subscribe("positionToolbar",this.handlePositionToolbar.bind(this)),this.hideClass=this.hideClass||"hide"},destroy:function(){},handlePositionToolbar:function(a,b){var c;this.window.getSelection();if(this.stateSelector&&"function"==typeof this.stateSelector){var d=this.stateSelector(b);c=this.states[d]}else this.getState&&"function"==typeof this.getState&&(c=this.getState(b));c&&this.updateToolbarState(c)},updateToolbarState:function(a){var b=this.base.getExtensionByName("toolbar"),c=this;b.forEachExtension(function(b){"function"==typeof b.getButton&&(-1!=a.buttons.indexOf(b.name)?b.getButton().classList.remove(c.hideClass):b.getButton().classList.add(c.hideClass))})}});